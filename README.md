# docker-ssh-nat

ä¸“ä¸º NAT å°é¸¡è®¾è®¡çš„è½»é‡çº§ SSH å®¹å™¨é•œåƒ,å†…ç½®å¸¸ç”¨ç½‘ç»œå·¥å…·,æ”¯æŒç«¯å£è½¬å‘ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… **åŒç‰ˆæœ¬æ”¯æŒ**: æä¾› Debian (bookworm-slim) å’Œ Alpine Linux ä¸¤ä¸ªç‰ˆæœ¬
- âœ… **å¸¸ç”¨å·¥å…·ç®±**: å†…ç½® 30+ å·¥å…· (curl, wget, ping, telnet, traceroute, dig, vim, htop, iotop, lsof, zip, tree ç­‰)
- âœ… **çµæ´»è®¤è¯**: æ”¯æŒè‡ªå®šä¹‰ root å¯†ç æˆ–è‡ªåŠ¨ç”Ÿæˆéšæœºå¯†ç 
- âœ… **ç²¾ç¾ Banner**: ç™»å½•æ—¶æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯å’Œå‘½ä»¤é€ŸæŸ¥
- âœ… **NAT ä¼˜åŒ–**: ä¸“ä¸ºç«¯å£æ®µæ˜ å°„åœºæ™¯ä¼˜åŒ–,ä¸»æœºä¸å®¹å™¨ç«¯å£å®Œç¾å¯¹åº”

## ğŸš€ ä¸€é”®ç®¡ç†è„šæœ¬ (nat.sh)

æ— éœ€ä¸‹è½½æºç ï¼Œç›´æ¥å¤åˆ¶ä¸‹æ–¹å‘½ä»¤å³å¯ä½¿ç”¨ï¼š

### 1. äº¤äº’å¼èœå• (æ¨è)
è¿›å…¥å›¾å½¢åŒ–èœå•ï¼Œæ”¯æŒæ–°å»ºå®¹å™¨ã€ç®¡ç†åˆ—è¡¨ã€å¯åŠ¨/åœæ­¢ã€æŸ¥çœ‹æ—¥å¿—ç­‰æ“ä½œã€‚

```bash
bash <(curl -sSL https://raw.githubusercontent.com/qiuapeng921/docker-ssh-nat/master/nat.sh)
```

### 2. å‘½ä»¤è¡Œè‡ªåŠ¨éƒ¨ç½² (CLI)
é€‚åˆæ‰¹é‡å¼€é€šæˆ–è‡ªåŠ¨åŒ–åœºæ™¯ã€‚

```bash
# ç”¨æ³•: bash <(curl ...) -t <é•œåƒç±»å‹> [é€‰é¡¹]

# ç¤ºä¾‹: å¯åŠ¨ä¸€ä¸ªå¯†ç ä¸º 123456 çš„ Debian å°é¸¡
bash <(curl -sSL https://raw.githubusercontent.com/qiuapeng921/docker-ssh-nat/master/nat.sh) -t debian -p 123456
```

**å‚æ•°è¯´æ˜:**
- `-t`: é•œåƒç±»å‹ (`debian` æˆ– `alpine`)ï¼Œ**å¿…å¡«**ã€‚
- `-p`: root å¯†ç ï¼Œå¦‚æœä¸å¡«åˆ™è‡ªåŠ¨ç”Ÿæˆ **8-10 ä½**éšæœºå¯†ç ã€‚
- `-c`: CPU é™åˆ¶ï¼Œé»˜è®¤ `1` æ ¸ã€‚
- `-m`: å†…å­˜é™åˆ¶ (MB)ï¼ŒDebian é»˜è®¤ `512`ï¼ŒAlpine é»˜è®¤ `128`ã€‚

---

## âš™ï¸ è‡ªåŠ¨åŒ–é€»è¾‘
- **å†…ç½‘ IP**: è‡ªåŠ¨ä» `192.168.10.2` å¼€å§‹é€’å¢åˆ†é…ï¼ˆ`.1` é¢„ç•™ç»™ç½‘å…³ï¼‰ã€‚
- **SSH ç«¯å£**: `10000 + IPæœ€åä¸€ä½`ï¼ˆå¦‚ IP `.2` -> ç«¯å£ `10002`ï¼‰ã€‚
- **NAT ç«¯å£**: `20000 + IPæœ€åä¸€ä½ Ã— 10` å¼€å§‹çš„ **10 ä¸ªç«¯å£**ã€‚
  - ä¾‹å¦‚ï¼šIP `192.168.10.2` -> NAT ç«¯å£ `20020-20029`

## ğŸ› ï¸ å¸¸ç”¨ç®¡ç†å‘½ä»¤
å¦‚æœä½ ä¸æƒ³ç”¨è„šæœ¬ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨ Docker å‘½ä»¤ï¼š
```bash
# æŸ¥çœ‹å°é¸¡çŠ¶æ€
docker ps | grep nat-

# æŸ¥çœ‹å°é¸¡æ—¥å¿—(åŒ…å«å¯†ç ä¿¡æ¯)
docker logs nat-debian-2

# åœæ­¢å¹¶åˆ é™¤å°é¸¡
docker rm -f nat-debian-2
```

## ğŸ“¦ åŒ…å«çš„å¸¸ç”¨å·¥å…·
- **ç½‘ç»œ**: `ping`, `telnet`, `traceroute`, `dig`, `curl`, `wget`, `ifconfig`, `ip`, `netstat`
- **ç›‘æ§**: `htop`, `iotop`, `lsof`, `ps`
- **ç¼–è¾‘**: `vim`
- **å·¥å…·**: `tar`, `gzip`, `unzip`, `tree`

## è®¸å¯è¯
MIT License
